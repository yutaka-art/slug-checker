<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub åˆ©ç”¨å¯å¦ãƒã‚§ãƒƒã‚¯</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Hiragino Sans", sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background-color: #ffffff;
            color: #24292f;
        }
        
        .container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid #d0d7de;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: #24292f;
            border-bottom: 1px solid #d0d7de;
            padding-bottom: 10px;
        }
        
        h2 {
            color: #24292f;
            margin-top: 0;
        }
        
        .input-group {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        input[type="text"] {
            flex: 1;
            min-width: 200px;
            padding: 12px;
            border: 1px solid #d0d7de;
            border-radius: 6px;
            font-size: 16px;
            background-color: #ffffff;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: #0969da;
            box-shadow: 0 0 0 3px rgba(9, 105, 218, 0.1);
        }
        
        button {
            padding: 12px 16px;
            background-color: #238636;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            white-space: nowrap;
        }
        
        button:hover {
            background-color: #2ea043;
        }
        
        button:disabled {
            background-color: #8c959f;
            cursor: not-allowed;
        }
        
        .result {
            margin-top: 15px;
            padding: 10px;
            border-radius: 6px;
            min-height: 20px;
        }
        
        .success {
            color: #1a7f37;
            background-color: #dafbe1;
            border: 1px solid #4ac26b;
        }
        
        .error {
            color: #d1242f;
            background-color: #ffebe9;
            border: 1px solid #fd2d20;
        }
        
        .info {
            color: #656d76;
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .note {
            background-color: #fff8c5;
            border: 1px solid #d4b82a;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }
        
        code {
            background-color: #f6f8fa;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'SFMono-Regular', Consolas, monospace;
        }
    </style>
</head>
<body>
    <h1>GitHub åˆ©ç”¨å¯å¦ãƒã‚§ãƒƒã‚¯</h1>
    
    <div class="container">
        <h2>GitHub ãƒ¦ãƒ¼ã‚¶ãƒ¼åãƒã‚§ãƒƒã‚¯</h2>
        <div class="info">
            è‹±æ•°å­—ã¨ãƒã‚¤ãƒ•ãƒ³ã®ã¿ä½¿ç”¨å¯èƒ½ï¼ˆå…ˆé ­ãƒ»æœ«å°¾ã®ãƒã‚¤ãƒ•ãƒ³ä¸å¯ã€æœ€å¤§39æ–‡å­—ï¼‰
        </div>
        
        <div class="input-group">
            <input type="text" id="usernameInput" placeholder="ä¾‹: acme-dev" maxlength="39">
            <button type="button" id="checkUsernameBtn">ãƒã‚§ãƒƒã‚¯</button>
        </div>
        
        <div id="usernameResult" class="result"></div>
    </div>
    
    <div class="container">
        <h2>Enterprise Slug å­˜åœ¨ç¢ºèª</h2>
        
        <div class="note">
            <strong>æ³¨æ„:</strong> é™çš„ã‚µã‚¤ãƒˆã§ã¯CORSåˆ¶ç´„ã«ã‚ˆã‚Šè‡ªå‹•ãƒã‚§ãƒƒã‚¯ãŒã§ãã¾ã›ã‚“ã€‚<br>
            ä¸‹ã®ãƒœã‚¿ãƒ³ã§ <code>https://github.com/enterprises/&lt;slug&gt;</code> ã‚’é–‹ãã€
            404ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ã‚’ç›®è¦–ã§ç¢ºèªã—ã¦ãã ã•ã„ã€‚
        </div>
        
        <div class="input-group">
            <input type="text" id="slugInput" placeholder="ä¾‹: acme-enterprise">
            <button type="button" id="openSlugBtn">ãƒšãƒ¼ã‚¸ã‚’é–‹ã</button>
        </div>
        
        <div class="info">
            ğŸ’¡ 404ã‚¨ãƒ©ãƒ¼ â†’ ä½¿ç”¨å¯èƒ½ãªå¯èƒ½æ€§ãŒé«˜ã„<br>
            ğŸ’¡ ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹/ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ â†’ æ—¢ã«ä½¿ç”¨ä¸­
        </div>
    </div>

    <script>
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å®Œäº†ã‚’å¾…ã¤
        document.addEventListener('DOMContentLoaded', function() {
            console.log('GitHubåˆ©ç”¨å¯å¦ãƒã‚§ãƒƒã‚¯ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ');
            
            // è¦ç´ ã‚’å–å¾—
            const usernameInput = document.getElementById('usernameInput');
            const checkUsernameBtn = document.getElementById('checkUsernameBtn');
            const usernameResult = document.getElementById('usernameResult');
            const slugInput = document.getElementById('slugInput');
            const openSlugBtn = document.getElementById('openSlugBtn');
            
            // è¦ç´ ã®å­˜åœ¨ç¢ºèª
            if (!usernameInput || !checkUsernameBtn || !usernameResult) {
                console.error('ãƒ¦ãƒ¼ã‚¶ãƒ¼åãƒã‚§ãƒƒã‚¯ç”¨ã®è¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                document.body.innerHTML = '<h1>ã‚¨ãƒ©ãƒ¼: ãƒšãƒ¼ã‚¸ã®è¦ç´ ãŒæ­£ã—ãèª­ã¿è¾¼ã¾ã‚Œã¾ã›ã‚“ã§ã—ãŸ</h1>';
                return;
            }
            
            if (!slugInput || !openSlugBtn) {
                console.error('Enterprise slugç”¨ã®è¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                return;
            }
            
            console.log('ã™ã¹ã¦ã®è¦ç´ ãŒæ­£å¸¸ã«å–å¾—ã•ã‚Œã¾ã—ãŸ');
            
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼åã®æœ‰åŠ¹æ€§ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹é–¢æ•°
            function isValidUsername(username) {
                // å…ˆé ­/æœ«å°¾ãƒã‚¤ãƒ•ãƒ³ä¸å¯ã€è‹±æ•°å­—ã¨ãƒã‚¤ãƒ•ãƒ³ã®ã¿ã€1-39æ–‡å­—
                const pattern = /^[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,37}[a-zA-Z0-9])?$/;
                return pattern.test(username);
            }
            
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼åãƒã‚§ãƒƒã‚¯ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
            checkUsernameBtn.addEventListener('click', async function() {
                console.log('ãƒ¦ãƒ¼ã‚¶ãƒ¼åãƒã‚§ãƒƒã‚¯ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ');
                
                const username = usernameInput.value.trim();
                usernameResult.innerHTML = '';
                usernameResult.className = 'result';
                
                if (!username) {
                    usernameResult.innerHTML = 'ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
                    usernameResult.className = 'result error';
                    return;
                }
                
                if (!isValidUsername(username)) {
                    usernameResult.innerHTML = 'âŒ <strong>å½¢å¼ã‚¨ãƒ©ãƒ¼:</strong> è‹±æ•°å­—ã¨ãƒã‚¤ãƒ•ãƒ³ã®ã¿ä½¿ç”¨å¯èƒ½ï¼ˆå…ˆé ­ãƒ»æœ«å°¾ã®ãƒã‚¤ãƒ•ãƒ³ä¸å¯ã€æœ€å¤§39æ–‡å­—ï¼‰';
                    usernameResult.className = 'result error';
                    return;
                }
                
                // ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
                checkUsernameBtn.disabled = true;
                checkUsernameBtn.textContent = 'ãƒã‚§ãƒƒã‚¯ä¸­...';
                usernameResult.innerHTML = 'ğŸ” GitHub APIã§ç¢ºèªä¸­...';
                usernameResult.className = 'result';
                
                try {
                    console.log('GitHub APIã‚’å‘¼ã³å‡ºã—ä¸­:', username);
                    const response = await fetch(`https://api.github.com/users/${encodeURIComponent(username)}`, {
                        method: 'GET',
                        headers: {
                            'Accept': 'application/vnd.github.v3+json'
                        }
                    });
                    
                    console.log('APIå¿œç­”ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:', response.status);
                    
                    if (response.status === 200) {
                        usernameResult.innerHTML = 'âŒ <strong>åˆ©ç”¨ã§ãã¾ã›ã‚“</strong> - ã“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯æ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™';
                        usernameResult.className = 'result error';
                    } else if (response.status === 404) {
                        usernameResult.innerHTML = 'âœ… <strong>åˆ©ç”¨å¯èƒ½ã§ã™</strong> - ã“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã›ã‚“';
                        usernameResult.className = 'result success';
                    } else {
                        usernameResult.innerHTML = `âš ï¸ ä¸æ˜ (HTTP ${response.status}) - æ™‚é–“ã‚’ãŠã„ã¦å†è©¦è¡Œã—ã¦ãã ã•ã„`;
                        usernameResult.className = 'result';
                    }
                } catch (error) {
                    console.error('APIå‘¼ã³å‡ºã—ã‚¨ãƒ©ãƒ¼:', error);
                    usernameResult.innerHTML = 'âŒ <strong>é€šä¿¡ã‚¨ãƒ©ãƒ¼:</strong> ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šã‚’ç¢ºèªã—ã¦ãã ã•ã„';
                    usernameResult.className = 'result error';
                } finally {
                    // ãƒœã‚¿ãƒ³ã‚’å†æœ‰åŠ¹åŒ–
                    checkUsernameBtn.disabled = false;
                    checkUsernameBtn.textContent = 'ãƒã‚§ãƒƒã‚¯';
                }
            });
            
            // Enterprise slugãƒšãƒ¼ã‚¸ã‚’é–‹ããƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
            openSlugBtn.addEventListener('click', function() {
                console.log('Enterprise slugãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ');
                
                const slug = slugInput.value.trim();
                if (!slug) {
                    alert('Enterprise slugã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                    return;
                }
                
                const url = `https://github.com/enterprises/${encodeURIComponent(slug)}`;
                console.log('Enterprise slugãƒšãƒ¼ã‚¸ã‚’é–‹ãã¾ã™:', url);
                window.open(url, '_blank', 'noopener,noreferrer');
            });
            
            // Enterã‚­ãƒ¼ã§ã®å®Ÿè¡Œã‚’ã‚µãƒãƒ¼ãƒˆ
            usernameInput.addEventListener('keypress', function(event) {
                if (event.key === 'Enter') {
                    checkUsernameBtn.click();
                }
            });
            
            slugInput.addEventListener('keypress', function(event) {
                if (event.key === 'Enter') {
                    openSlugBtn.click();
                }
            });
            
            console.log('ã™ã¹ã¦ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ãŒè¨­å®šã•ã‚Œã¾ã—ãŸ');
        });
    </script>
</body>
</html>
